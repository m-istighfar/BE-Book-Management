datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}



model UserAuth {
  UserAuthID            Int       @id @default(autoincrement())
  Username              String    @unique
  Email                 String    @unique
  Password              String
  ResetPasswordToken    String?   @unique
  ResetPasswordExpires  DateTime?
  Verified              Boolean   @default(false)
  VerificationToken     String?   @unique
  User                  User?     @relation(fields: [UserID], references: [UserID])
  UserID                Int?      @unique
  CreatedAt             DateTime  @default(now())
  UpdatedAt             DateTime  @updatedAt
}

model User {
  UserID          Int            @id @default(autoincrement())
  Name            String
  Phone           String
  Email           String
  UserAuth        UserAuth?
  CreatedAt       DateTime       @default(now())
  UpdatedAt       DateTime       @updatedAt
}

model Category {
  CategoryID   Int       @id @default(autoincrement())
  Name         String    @unique
  CreatedAt    DateTime  @default(now())
  UpdatedAt    DateTime  @updatedAt
  Books        Book[]
}

enum Thickness {
  tipis
  sedang
  tebal
}

model Book {
  BookID       Int       @id @default(autoincrement())
  Title        String    @unique
  Description  String
  ImageUrl     String
  ReleaseYear  Int
  Price        String
  TotalPage    Int
  Thickness    Thickness
  CreatedAt    DateTime  @default(now())
  UpdatedAt    DateTime  @updatedAt
  CategoryID   Int
  Category     Category  @relation(fields: [CategoryID], references: [CategoryID])
}

